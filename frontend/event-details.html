<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Tech Summit 2026 | EventFlow</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css">
    <style>
        .detail-header {
            padding: 8rem 0 4rem;
            display: grid;
            grid-template-columns: 1.5fr 1fr;
            gap: 4rem;
        }

        .event-banner {
            width: 100%;
            height: 500px;
            border-radius: 2rem;
            object-fit: cover;
            box-shadow: var(--shadow-xl);
        }

        .booking-sidebar {
            position: sticky;
            top: 7rem;
            height: fit-content;
        }

        .detail-content h1 {
            font-size: 3rem;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }

        .info-pill {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-surface);
            border: 1px solid var(--border);
            border-radius: 2rem;
            font-size: 0.875rem;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .section-header {
            margin: 3rem 0 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .organizer-card {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 2rem;
            padding: 1rem;
            border-radius: 1rem;
            background: var(--primary-light);
        }

        @media (max-width: 992px) {
            .detail-header {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .event-banner {
                height: 300px;
            }
        }
    </style>
</head>

<body class="fade-in">

    <header>
        <div class="container nav-container">
            <a href="index.html" class="logo">
                <i class="ri-flashlight-fill" style="color: var(--primary)"></i>
                <span>EventFlow</span>
            </a>
            <nav class="nav-links">
                <a href="events.html" class="nav-link">Explore Events</a>
                <a href="dashboard.html" class="nav-link">My Bookings</a>
                <div id="nav-auth" style="display: flex; align-items: center; gap: 1rem;">
                    <!-- JS will populate -->
                </div>
                <button id="theme-toggle" class="btn btn-outline btn-icon" title="Toggle Theme">
                    <i class="ri-moon-line"></i>
                </button>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="detail-header">
            <div class="detail-content">
                <span class="event-tag">Technology</span>
                <h1>Global Tech Summit 2026</h1>

                <div style="margin-bottom: 2.5rem;">
                    <div class="info-pill"><i class="ri-calendar-line"></i> Oct 12, 2026 - 09:00 AM</div>
                    <div class="info-pill"><i class="ri-map-pin-line"></i> Moscone Center, San Francisco</div>
                    <div class="info-pill"><i class="ri-user-star-line"></i> Limited Seats: 50 Remaining</div>
                </div>

                <img src="https://images.unsplash.com/photo-1505373877841-8d25f7d46678?auto=format&fit=crop&w=1200&q=80"
                    alt="Tech Summit Banner" class="event-banner">

                <h3 class="section-header">About the Event</h3>
                <p>The Global Tech Summit 2026 is the premier gathering for engineers, innovators, and thinkers. This
                    year's summit focuses on the intersection of Artificial Intelligence, Quantum Computing, and
                    Sustainable Technology.</p>
                <p style="margin-top: 1rem;">Join us for three days of intensive workshops, keynote speeches from
                    industry leaders, and unparalleled networking opportunities. Whether you're a startup founder or a
                    seasoned CTO, this event is designed to spark new ideas and collaborations.</p>

                <h3 class="section-header">Key Speakers</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1.5rem;">
                    <div style="text-align: center;">
                        <img src="https://ui-avatars.com/api/?name=Elon+Musk&background=random"
                            style="width: 80px; height: 80px; border-radius: 50%; margin-bottom: 0.5rem;" alt="Speaker">
                        <p style="font-weight: 600; color: var(--text-high);">Elon Musk</p>
                        <p style="font-size: 0.75rem;">CEO, X Corp</p>
                    </div>
                    <div style="text-align: center;">
                        <img src="https://ui-avatars.com/api/?name=Sam+Altman&background=random"
                            style="width: 80px; height: 80px; border-radius: 50%; margin-bottom: 0.5rem;" alt="Speaker">
                        <p style="font-weight: 600; color: var(--text-high);">Sam Altman</p>
                        <p style="font-size: 0.75rem;">CEO, OpenAI</p>
                    </div>
                    <div style="text-align: center;">
                        <img src="https://ui-avatars.com/api/?name=Mira+Murati&background=random"
                            style="width: 80px; height: 80px; border-radius: 50%; margin-bottom: 0.5rem;" alt="Speaker">
                        <p style="font-weight: 600; color: var(--text-high);">Mira Murati</p>
                        <p style="font-size: 0.75rem;">CTO, OpenAI</p>
                    </div>
                </div>
            </div>

            <aside class="booking-sidebar">
                <div class="card" style="padding: 2rem;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <span style="font-size: 0.875rem; font-weight: 600; color: var(--text-low);">Price per
                            ticket</span>
                        <h2 style="font-size: 2rem;">$299.00</h2>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Select Quantity</label>
                        <select id="ticket-quantity" class="form-input">
                            <option value="1">1 Ticket</option>
                            <option value="2">2 Tickets</option>
                            <option value="3">3 Tickets</option>
                            <option value="4">4 Tickets</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>Subtotal</span>
                            <span>$299.00</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>Service Fee</span>
                            <span>$15.00</span>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; font-weight: 700; color: var(--text-high); padding-top: 1rem; border-top: 1px solid var(--border);">
                            <span>Total</span>
                            <span>$314.00</span>
                        </div>
                    </div>

                    <button class="btn btn-primary" style="width: 100%; border-radius: 1rem;"
                        onclick="openBookingModal()">
                        Book Now <i class="ri-ticket-line"></i>
                    </button>

                    <p style="text-align: center; font-size: 0.75rem; margin-top: 1rem; color: var(--text-low);">
                        Free cancellation up to 48 hours before the event.
                    </p>

                    <div class="organizer-card">
                        <img src="https://ui-avatars.com/api/?name=Tech+Events+Inc&background=random"
                            style="width: 40px; height: 40px; border-radius: 0.5rem;" alt="Org">
                        <div>
                            <p style="font-size: 0.875rem; font-weight: 600; color: var(--text-high);">Tech Events Inc.
                            </p>
                            <p style="font-size: 0.75rem;">Verified Organizer</p>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <footer style="padding: 4rem 0; border-top: 1px solid var(--border); margin-top: 4rem;">
        <div class="container" style="text-align: center;">
            <p>&copy; 2026 EventFlow. All rights reserved.</p>
        </div>
    </footer>

    <!-- Booking Modal -->
    <div id="booking-modal" class="modal-overlay">
        <div class="modal-content" id="selection-step">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h3 style="margin: 0;">Complete Your Booking</h3>
                <button class="btn btn-icon btn-outline" onclick="closeModal('booking-modal')">
                    <i class="ri-close-line"></i>
                </button>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <div style="position: relative;">
                        <i class="ri-user-line"
                            style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-low);"></i>
                        <input type="text" id="booking-name" class="form-input" placeholder="Enter your name"
                            style="padding-left: 2.5rem;">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Mobile Number</label>
                    <div style="position: relative;">
                        <i class="ri-phone-line"
                            style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-low);"></i>
                        <input type="text" id="booking-mobile" class="form-input" placeholder="Enter mobile"
                            style="padding-left: 2.5rem;" maxlength="10"
                            oninput="this.value = this.value.replace(/[^0-9]/g, '')">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Select Date</label>
                <div style="position: relative;">
                    <i class="ri-calendar-event-line"
                        style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-low);"></i>
                    <input type="date" id="booking-date" class="form-input" style="padding-left: 2.5rem;"
                        onchange="updateSelectedDay()">
                </div>
                <div id="selected-day-display"
                    style="margin-top: 0.5rem; font-size: 0.875rem; font-weight: 600; color: var(--primary); display: none;">
                    <i class="ri-calendar-check-line"></i> <span id="day-name"></span>
                </div>
                <small style="color: var(--text-low); margin-top: 0.5rem; display: block;">Only future dates are
                    available</small>
            </div>

            <div class="form-group">
                <label class="form-label">Select Time Slot</label>
                <div style="position: relative;">
                    <i class="ri-time-line"
                        style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-low);"></i>
                    <select id="booking-time" class="form-input" style="padding-left: 2.5rem;">
                        <option value="" disabled selected>Pick a time...</option>
                        <option value="09:00 AM">09:00 AM</option>
                        <option value="10:00 AM">10:00 AM</option>
                        <option value="11:30 AM">11:30 AM</option>
                        <option value="02:00 PM">02:00 PM</option>
                        <option value="04:30 PM">04:30 PM</option>
                        <option value="06:00 PM">06:00 PM</option>
                        <option value="08:00 PM">08:00 PM</option>
                    </select>
                </div>
            </div>

            <div style="margin-top: 2rem; display: flex; gap: 1rem;">
                <button class="btn btn-outline" style="flex: 1" onclick="closeModal('booking-modal')">Cancel</button>
                <button class="btn btn-primary" style="flex: 2" onclick="showPaymentStep()">
                    Continue to Payment
                </button>
            </div>
        </div>

        <div class="modal-content" id="payment-step" style="display: none;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h3 style="margin: 0;">Payment Details</h3>
                <button class="btn btn-icon btn-outline" onclick="closeModal('booking-modal')">
                    <i class="ri-close-line"></i>
                </button>
            </div>

            <div class="card"
                style="margin-bottom: 2rem; background: var(--bg-main); border: 1px dashed var(--border);">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.75rem;">
                    <span style="color: var(--text-low);">Base Amount</span>
                    <span id="summary-subtotal" style="font-weight: 500;">$0.00</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.75rem;">
                    <span style="color: var(--text-low);">GST (18%)</span>
                    <span id="summary-gst" style="color: var(--success); font-weight: 500;">+$0.00</span>
                </div>
                <div
                    style="display: flex; justify-content: space-between; padding-top: 1rem; border-top: 1px solid var(--border); margin-top: 0.5rem;">
                    <span style="font-weight: 600; color: var(--text-high);">Total Payable</span>
                    <span id="summary-total"
                        style="font-weight: 700; color: var(--primary); font-size: 1.25rem;">$0.00</span>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Payment Method</label>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <label class="payment-option">
                        <input type="radio" name="payment-method" value="upi" checked style="display: none;">
                        <div class="payment-card">
                            <i class="ri-qr-code-line"></i>
                            <span>UPI Pay</span>
                        </div>
                    </label>
                    <label class="payment-option">
                        <input type="radio" name="payment-method" value="card" style="display: none;">
                        <div class="payment-card">
                            <i class="ri-bank-card-line"></i>
                            <span>Card Pay</span>
                        </div>
                    </label>
                </div>
            </div>

            <div style="margin-top: 2rem; display: flex; gap: 1rem;">
                <button class="btn btn-outline" style="flex: 1" onclick="backToSelection()">Back</button>
                <button id="final-confirm-btn" class="btn btn-primary" style="flex: 2" onclick="processFinalBooking()">
                    Confirm & Pay
                </button>
            </div>
        </div>

        <div class="modal-content" id="upi-step" style="display: none;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h3 style="margin: 0;">UPI Payment</h3>
                <button class="btn btn-icon btn-outline" onclick="closeModal('booking-modal')">
                    <i class="ri-close-line"></i>
                </button>
            </div>
            <div class="form-group">
                <label class="form-label">Enter UPI ID</label>
                <div style="position: relative;">
                    <i class="ri-at-line"
                        style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-low);"></i>
                    <input type="text" id="upi-id" class="form-input" placeholder="username@bank"
                        style="padding-left: 2.5rem;">
                </div>
                <small style="color: var(--text-low); margin-top: 0.5rem; display: block;">Enter your VPA to proceed
                    with
                    payment</small>
            </div>
            <div style="margin-top: 2rem; display: flex; gap: 1rem;">
                <button class="btn btn-outline" style="flex: 1" onclick="backToPayment()">Back</button>
                <button id="upi-submit-btn" class="btn btn-primary" style="flex: 2" onclick="completePayment('upi')">
                    Pay Now
                </button>
            </div>
        </div>

        <div class="modal-content" id="card-step" style="display: none;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h3 style="margin: 0;">Card Details</h3>
                <button class="btn btn-icon btn-outline" onclick="closeModal('booking-modal')">
                    <i class="ri-close-line"></i>
                </button>
            </div>
            <div class="form-group">
                <label class="form-label">Card Number</label>
                <div style="position: relative;">
                    <i class="ri-bank-card-line"
                        style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-low);"></i>
                    <input type="text" id="card-number" class="form-input" placeholder="0000 0000 0000 0000"
                        style="padding-left: 2.5rem;" maxlength="16"
                        oninput="this.value = this.value.replace(/[^0-9]/g, '')">
                </div>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                <div class="form-group">
                    <label class="form-label">Expiry (MM/YY)</label>
                    <input type="text" id="card-expiry" class="form-input" placeholder="MM/YY" maxlength="5"
                        oninput="formatExpiry(this)">
                </div>
                <div class="form-group">
                    <label class="form-label">CVV</label>
                    <input type="password" id="card-cvv" class="form-input" placeholder="***" maxlength="3"
                        oninput="this.value = this.value.replace(/[^0-9]/g, '')">
                </div>
            </div>
            <div style="margin-top: 3.5rem; display: flex; gap: 1rem;">
                <button class="btn btn-outline" style="flex: 1" onclick="backToPayment()">Back</button>
                <button id="card-submit-btn" class="btn btn-primary" style="flex: 2" onclick="completePayment('card')">
                    Pay Now
                </button>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script>
        function openBookingModal() {
            document.getElementById('selection-step').style.display = 'block';
            document.getElementById('payment-step').style.display = 'none';
            document.getElementById('upi-step').style.display = 'none';
            document.getElementById('card-step').style.display = 'none';

            const dateInput = document.getElementById('booking-date');
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            dateInput.setAttribute('min', tomorrow.toISOString().split('T')[0]);

            openModal('booking-modal');
        }

        function updateSelectedDay() {
            const dateVal = document.getElementById('booking-date').value;
            const display = document.getElementById('selected-day-display');
            const dayName = document.getElementById('day-name');

            if (dateVal) {
                const date = new Date(dateVal);
                const options = { weekday: 'long' };
                dayName.textContent = new Intl.DateTimeFormat('en-US', options).format(date);
                display.style.display = 'block';
            } else {
                display.style.display = 'none';
            }
        }

        function showPaymentStep() {
            const name = document.getElementById('booking-name').value;
            const mobile = document.getElementById('booking-mobile').value;
            const date = document.getElementById('booking-date').value;
            const time = document.getElementById('booking-time').value;

            if (!name || name.trim().length < 2) {
                showToast('Please enter your full name', 'warning');
                return;
            }
            if (!mobile || mobile.length < 10) {
                showToast('Please enter a valid 10-digit mobile number', 'warning');
                return;
            }
            if (!date || !time) {
                showToast('Please select both date and time to continue', 'warning');
                return;
            }

            const subtotalStr = document.querySelector('.booking-sidebar h2').innerText.replace('$', '');
            const subtotal = parseFloat(subtotalStr);
            const gst = subtotal * 0.18;
            const total = subtotal + gst;

            document.getElementById('summary-subtotal').innerText = `$${subtotal.toFixed(2)}`;
            document.getElementById('summary-gst').innerText = `+$${gst.toFixed(2)}`;
            document.getElementById('summary-total').innerText = `$${total.toFixed(2)}`;

            document.getElementById('selection-step').style.display = 'none';
            document.getElementById('payment-step').style.display = 'block';
        }

        function backToSelection() {
            document.getElementById('selection-step').style.display = 'block';
            document.getElementById('payment-step').style.display = 'none';
        }

        function formatExpiry(input) {
            let value = input.value.replace(/[^0-9]/g, '');
            if (value.length > 2) {
                value = value.substring(0, 2) + '/' + value.substring(2, 4);
            }
            input.value = value;
        }

        function backToPayment() {
            document.getElementById('upi-step').style.display = 'none';
            document.getElementById('card-step').style.display = 'none';
            document.getElementById('payment-step').style.display = 'block';
        }

        function processFinalBooking() {
            const method = document.querySelector('input[name="payment-method"]:checked').value;

            document.getElementById('payment-step').style.display = 'none';
            if (method === 'upi') {
                document.getElementById('upi-step').style.display = 'block';
            } else {
                document.getElementById('card-step').style.display = 'block';
            }
        }

        function completePayment(method) {
            const btnId = method === 'upi' ? 'upi-submit-btn' : 'card-submit-btn';
            const btn = document.getElementById(btnId);

            // Validation
            if (method === 'upi') {
                const upiId = document.getElementById('upi-id').value;
                if (!upiId || !upiId.includes('@')) {
                    showToast('Please enter a valid UPI ID', 'warning');
                    return;
                }
            } else {
                const cardNum = document.getElementById('card-number').value;
                const expiry = document.getElementById('card-expiry').value;
                const cvv = document.getElementById('card-cvv').value;
                if (!cardNum || cardNum.length < 16) {
                    showToast('Please enter a valid 16-digit card number', 'warning');
                    return;
                }
                if (!expiry || !expiry.includes('/')) {
                    showToast('Please enter expiry in MM/YY format', 'warning');
                    return;
                }
                if (!cvv || cvv.length < 3) {
                    showToast('Please enter a valid CVV', 'warning');
                    return;
                }
            }

            const eventTitle = document.querySelector('.detail-content h1').textContent;
            const eventImg = document.querySelector('.event-banner').src;
            const eventLocation = document.querySelector('.info-pill i.ri-map-pin-line').parentElement.textContent.trim();
            const date = document.getElementById('booking-date').value;
            const time = document.getElementById('booking-time').value;

            const name = document.getElementById('booking-name').value;
            const mobile = document.getElementById('booking-mobile').value;
            const quantity = document.getElementById('ticket-quantity').value;
            const total = document.getElementById('summary-total').innerText;

            btn.innerHTML = '<i class="ri-loader-4-line spin"></i> Processing...';
            btn.disabled = true;

            setTimeout(() => {
                const bookingData = {
                    eventTitle,
                    eventImg,
                    eventLocation,
                    date,
                    time,
                    userName: name,
                    userMobile: mobile,
                    persons: quantity,
                    totalPrice: total,
                    status: 'Confirmed'
                };
                saveBooking(bookingData);

                closeModal('booking-modal');
                showToast('Payment Successful! Check your email.', 'success');
                addNotification('Booking Confirmed', `You have successfully booked tickets for ${eventTitle} on ${date} at ${time}.`);

                setTimeout(() => {
                    window.location.href = 'dashboard.html';
                }, 1500);
            }, 2500);
        }
    </script>
    <style>
        .spin {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .payment-option {
            cursor: pointer;
        }

        .payment-card {
            border: 1px solid var(--border);
            border-radius: 1rem;
            padding: 1.5rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
            transition: var(--transition-normal);
            background: var(--bg-surface);
            color: var(--text-mid);
        }

        .payment-option input:checked+.payment-card {
            border-color: var(--primary);
            background: var(--primary-light);
            color: var(--primary);
            box-shadow: 0 0 0 1px var(--primary);
        }

        .payment-card i {
            font-size: 2rem;
        }

        .payment-card span {
            font-size: 0.875rem;
            font-weight: 600;
        }
    </style>
</body>

</html>